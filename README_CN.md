# Widgets Easier

Widgets Easier是一个开源库的Flutter组件库，附带了多个预构建UI组件。它旨在使开发更快更加地简单和高效，让开发成为一件愉快地事情。

![widgets_easier.png](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/assets/widgets_easier.png)

## Features

- **预构建的 UI 组件**：使用我们的预构建 UI 小部件集合，包括按钮、卡片、弹窗等，节省时间和精力。
- **定制选项**：轻松定制每个组件，以匹配您应用程序的独特设计和品牌需求。
- **响应式设计**：借助内置的响应式功能，确保您的应用在任何屏幕大小上都看起来很棒。
- **跨平台兼容性**：轻松构建一次，并在多个平台（包括 iOS、Android 和 Web）上部署，无需额外工作。
- **开源和社区驱动**：受益于积极的开发者社区，他们不断为库的增长和改进做出贡献。
- **简单集成**：通过简单的安装步骤，轻松将 WidgetsEasier 无缝集成到您现有的 Flutter 项目中。
- **定期更新**：我们会持续更新和增强 WidgetsEasier，让您紧跟最新的 Flutter 趋势和最佳实践。


## 开始

在你的Flutter项目中，运行下面的命令：

```bash
flutter pub add widgets_easier
flutter pub add flutter_easy_animations
```

即可安装最新版本的 Widgets Easier 库。其中动画部分封装为 flutter_easy_animations 库，使用到相关功能时，需要单独安装。

## Usage



### 1. 边框

受到CSS边框和其它一些前端模块的启发，**Widgets Easier** 提供了多种边框类型和边框工具，如常见的实线边框、虚线边框、破折线式边框、点划线边框、双线边框，还包括一些略为复杂的具有立体效果边框类型如槽线式边框、脊线式边框、内嵌式边框、外凸式边框等。详细文档请参考：[border](./docs_CN/border.md)

### 2. 阴影盒子

受启发于 **[Element-Plus](https://element-plus.org/)** 在 **Widgets Easier** 组件库中，提供了特定阴影效果。这些阴影效果能够以组件的方式为其它的组件添加相对应的阴影效果。：[shadow_box](./docs_CN/shadow_box.md)

![example_kAfLS9VvwG](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics//example_kAfLS9VvwG.png)

### 3. 按钮

**SemanticButton** 是一个高度可定制的按钮组件，支持多种视觉和交互效果。它允许开发者设置按钮的文本、图标、颜色、边框样式、阴影、以及交互时的视觉反馈。此外，按钮可以配置为带有前缀图标和后缀图标，增加按钮的表达力和功能性。详细文档请参考：

[SemanticButton文档](./docs_CN/semantic_button.md)



![example_udTNKdt6RP](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_udTNKdt6RP.gif)

![example_Ta3ohFfhRn](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics//example_Ta3ohFfhRn.gif)

![example_zQldNd5Agw](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics//example_zQldNd5Agw.gif)

![example_0IooMDarZl](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics//example_0IooMDarZl.gif)

![example_xIzQytfQ87](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics//example_xIzQytfQ87.gif)

![example_3spR0CNRPN](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics//example_3spR0CNRPN.gif)

![example_j7nmu9vC0M](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics//example_j7nmu9vC0M.png)

![example_6WGxVLs5Dy](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_6WGxVLs5Dy.gif)

![example_ZPNFkyEpaC](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_ZPNFkyEpaC.gif)

### 4. 按钮组

按钮组是多个SemanticButton的集合，他们具有统一的语义，并且以紧密的方式进行排列。

详细请参考文档：[ButtonGroup](./docs_CN/button_group.md)

![example_M8MY32Z4QW](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_M8MY32Z4QW.gif)

![example_GFp71agb79](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_GFp71agb79.gif)

![example_KLiWhn18t5](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_KLiWhn18t5.gif)

![example_FWgfhJiS1W](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_FWgfhJiS1W.gif)

![example_f6xDuUhP6W](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_f6xDuUhP6W.gif)

![example_W6GYBdDlgJ](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_W6GYBdDlgJ.gif)

### 5. 标签

详细请参考文档：[Tag](./docs_CN/tag.md)

![example_RLfAZpHGRt](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_RLfAZpHGRt.png)

![example_uLVBhrUyBl](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_uLVBhrUyBl.png)

![example_4GWiRl3tzL](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_4GWiRl3tzL.png)

![example_HJgxs2Vv3O](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_HJgxs2Vv3O.gif)

![在这里插入图片描述](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/cea33e4f5e9f46d5a148d886959c6d32.gif)

### 6. 加减器

**CounterInput** 是一个用于数值输入和调整的 **Flutter** 组件，它提供了一个直观的界面，允许用户通过点击加号和减号按钮或直接输入数值来改变当前值。改组件包含以下特性：

1. 支持点击加号和减号按钮来增加或减少当前值
2. 支持直接在文本框中输入数值；
3. 可自定义的最小值、最大值和步长；
4. 可自定义的样式，包括大小、颜色和边框样式；
5. 提供了多个回调事件，用于监听值的变化和边界情况；
6. 支持长按加号和减号按钮来连续改变值；
7. 支持禁用和启用组件的交互。

详细请参考文档：[Counter](./docs_CN/counter.md)

![example_uoLPuBTKzb](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_uoLPuBTKzb.png)

![example_h0k4KWue9E](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_h0k4KWue9E.png)

![example_1JTzG6Hlaf](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_1JTzG6Hlaf.png)

![example_eDBmo5IVT9](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_eDBmo5IVT9.png)

![example_tjpQHhVKRl](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_tjpQHhVKRl.png)

![example_4AXqYeLDKp](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_4AXqYeLDKp.gif)

![example_wzi2mFQRMk](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_wzi2mFQRMk.gif)

![example_fMYLgu8hR9](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_fMYLgu8hR9.gif)

![example_Jfs459a3CF](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_Jfs459a3CF.gif)



### 7. 动画

动画相关工具被单独封装在`flutter_easy_animations`库中，需要独立进行安装：

```bash
flutter pub add flutter_easy_animations
```

更多关于动画用法，请查阅写在`flutter_easy_animations`中的文档：[https://pub.dev/packages/flutter_easy_animations](https://pub.dev/packages/flutter_easy_animations)

### 8. 弹窗

**widgets Easier** 内部集成了多种弹窗类型，详细请参考文档：[Dialogs](./docs_CN/dialogs.md)

![example_QCpD0oPAWg](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_QCpD0oPAWg.gif)

![example_CYfwe0SU6B](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_CYfwe0SU6B.gif)

![example_UqL2qrRpiO](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_UqL2qrRpiO.gif)

![example_EGAUPCK3VF](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_EGAUPCK3VF.gif)

![example_Z45EJiFtKU](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_Z45EJiFtKU.gif)

![example_BTEipOt7f9](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_BTEipOt7f9.gif)

![example_XXgNIBMhxU](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_XXgNIBMhxU.gif)

![在这里插入图片描述](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/989b2405eaab4d629d9ce22c4a9a6a71.gif)

![在这里插入图片描述](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/9fc16728e2c740e39d3bd1f729a6dd7d.gif)

![在这里插入图片描述](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/296cf1829bb047448477db75ff560ed1.gif)

### 9. 消息吐丝

消息吐丝（**NotifyToasts**）受到**Element-Plus**的**Notification**启发，并以一种适合于在**Flutter**上使用的方式进行封装。它提供了一种简单而灵活的方式来在你的应用中显示消息通知。通过自定义样式、动画效果和交互，你可以创建出符合应用设计风格的消息通知。详细请参考文档：[NotifyToasts](./docs_CN/notify_toasts.md)

![example_qCE7P4gOkP](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_qCE7P4gOkP.gif)

![example_5MJrSKGAUZ](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_5MJrSKGAUZ.gif)

![example_N97sCnevj3](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_N97sCnevj3.gif)

![example_0VkrqwD0V6](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_0VkrqwD0V6.gif)

![example_v5UtPLQkCx](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_v5UtPLQkCx.gif)

![example_oRw9m9WFAl](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_oRw9m9WFAl.gif)

![example_hLZFdhRnWm](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_hLZFdhRnWm.gif)

![example_11BEIJRAt5](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_11BEIJRAt5.gif)

![example_s2AsI6WQKD](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_s2AsI6WQKD.gif)



### 10. 提示吐丝

**TipToasts** 是一个用于在 **Flutter** 应用中显示提示消息的工具类，是一种最简单的吐丝。它提供了一种简单而灵活的方式来在屏幕的不同位置显示短暂的提示信息，并支持自定义动画效果和样式。详细请参考文档：[TipToasts](./docs_CN/tip_toasts.md)

![example_JskzbjcvBA](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_JskzbjcvBA.gif)

![example_NznGSg2hm0](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_NznGSg2hm0.gif)

![example_hbHZoFAO8O](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/example_hbHZoFAO8O.gif)

### 11. 底部弹窗

**widgets Easier** 内部集成了多种底部弹窗类型，详细请参考文档：[Bottom Sheets](./docs_CN/bottom_sheets.md)

![在这里插入图片描述](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/50c63288482441e696045cef7abddea9.gif)

![在这里插入图片描述](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/6a74972d5f8048209ccb257206fba86d.gif)

![在这里插入图片描述](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/cc84116e550b4a28a58660ad918cb24b.gif)

![在这里插入图片描述](https://raw.githubusercontent.com/jacklee1995/widgets_easier/master/readme_pics/3d7c9de55d8642c8bc054514a68b5d76.gif)

### 12. 抽屉

正在生产中



### 13. 隐私保护组件

隐私保护组件**PrivacyGuard**用于保护一些页面信息不被截屏和泄露。在一些场景下，我们需要对页面做一些保护处理。比如用户输入密码时，我系需要禁止截屏录屏，而用户离开页面时，也可能需要对页面实现一个模糊化的效果。这是比价常用的功能，但是对话禁止录屏等操作**Flutter**没有直接的接口，每次都些通信实现这样一个简单组件比较麻烦。因此**widgets Easier** 针对于**Android**和**iOS**进行了封装，直接以单子部件的形式提供使用。**PrivacyGuard**部件的签名如下：

```dart
const PrivacyGuard({
  super.key,
  required this.child, // 被保护的子组件
  this.blurRadius = 10.0, // 模糊半径
  this.blurColor = const Color.fromARGB(136, 225, 225, 225), // 模糊颜色
  this.onEnterPrivacyMode, // 离开页面时的回调
  this.onExitPrivacyMode, // 回到页面时的回调
  this.preventScreenshot = false, // 是否禁止截屏
});
```

下面的代码展示了一个被**PrivacyGuard**所守卫的登录页面：

```dart
import 'package:flutter/material.dart';
import 'package:widgets_easier/widgets_easier.dart';

class GuardedPage extends StatelessWidget {
  const GuardedPage({super.key});

  @override
  Widget build(BuildContext context) {
    return PrivacyGuard(
      preventScreenshot: true,
      onEnterPrivacyMode: () => print('onEnterPrivacyMode'),
      onExitPrivacyMode: () => print('onExitPrivacyMode'),
      child: SafeArea(
        child: Scaffold(
          appBar: AppBar(
            title: const Text('登录页面'),
          ),
          body: Padding(
            padding: const EdgeInsets.all(16.0),
            child: Center(
              child: Column(
                mainAxisAlignment: MainAxisAlignment.center,
                children: [
                  const Text(
                    '守卫登录页',
                    style: TextStyle(
                      fontSize: 24.0,
                      fontWeight: FontWeight.bold,
                    ),
                  ),
                  const SizedBox(height: 32.0),
                  const TextField(
                    decoration: InputDecoration(
                      labelText: '账户',
                      border: OutlineInputBorder(),
                    ),
                  ),
                  const SizedBox(height: 16.0),
                  const TextField(
                    decoration: InputDecoration(
                      labelText: '密码',
                      border: OutlineInputBorder(),
                    ),
                    obscureText: true,
                  ),
                  const SizedBox(height: 16.0),
                  ElevatedButton(
                    onPressed: () {
                      // 登录逻辑
                    },
                    child: const Text('登录'),
                  ),
                ],
              ),
            ),
          ),
        ),
      ),
    );
  }
}
```



页面的大致效果如下：

![WeChat_c6fZ7PXYaX](./assets/WeChat_c6fZ7PXYaX.gif)

![WeChat_xkyvwRdC29](./assets/WeChat_xkyvwRdC29.gif)



### 14. 加载框架

数据分页就是将一个庞大的数据分为若干份，每次仅仅加载其中的一个数据单元。后端框架（如Django），一般提供了比较完善的数据分页方案，这些方案使得我们在前端中可以比较方便地获得以下几个方面的数据：

- `next`：表示下一页
- `previous`：表示上一页
- `has_next`：表示是否有下一页
- `has_previous`：表示是否有上一页
- `total_pages`：表示分页的总页面数量
- `current_page`：当前的页码
- `results`：本页数据

加载框架用于方便处理各种分页加载数据问题，它基于委托类为完成具体子项和子项组织，使得可以在框架的基础上灵活构建UI，这意味这还可以使用各种第三方库来完成不同的的加载效果。例如，如果分页对象时一个懒加载的列表，你可以结合第三方的刷新库来实现加载特效。

分页框架中的 `PaginatedResponse<T>` 是一个数据模型，表示一个分页单元，它完整地包含了上面地分页信息和数据。**PaginatedResponse**提供了一个`fromMap`工厂构造方法，这个方法需要指定两个参数：

1. `map`：是一个包含了所有地分页参数和数据的映射；
2. `fromMap`：是一个解析 `map['results']` 为 `List<T>` 的解析函数。



例如下面的例子集合第三方的EasyRefresh完成率新加载：



![studio64_KgDZISJ8cE](./assets/studio64_KgDZISJ8cE.gif)

现在假设后端又一个返回数据的**API**，这用**Django**自带分页很容易实现（哦，字符串约定是因为我喜欢用Django写后端，但是这里仅仅是在Flutter中提供一个Mock伪数据）：

```dart
/// 这个是一个虚拟的API，来表示后端返回数据
class MockApi {
  static Future<Map<String, dynamic>> post(String url,
      {Map<String, dynamic>? data}) async {
    // 模拟网络延迟
    await Future.delayed(const Duration(seconds: 1));

    // 模拟的API响应数据
    final page = data?['page'] ?? 1;
    final pageSize = data?['pageSize'] ?? 20;

    return {
      'next': page < 5 ? 'next_page_url' : null,
      'previous': page > 1 ? 'previous_page_url' : null,
      'has_next': page < 5,
      'has_previous': page > 1,
      'total_pages': 5,
      'current_page': page,
      'results': List.generate(pageSize, (index) {
        final id = (page - 1) * pageSize + index;
        return {
          'id': id,
          'title': 'Item $id',
          'subtitle': 'Subtitle $id',
        };
      }),
    };
  }
}

```

然后假装我们有一个具体的**API**类用于请求这里需要的分页数据：



我们先定义一个数据单元的**Model**：

```dart
import 'package:flutter/material.dart';

class TileItem {
  final Widget icon;
  final String title;
  final String subtitle;

  TileItem({
    required this.icon,
    required this.title,
    required this.subtitle,
  });
}
```

然后在委托子类中实现样式：

```dart
import 'package:easy_refresh/easy_refresh.dart';
import 'package:flutter/material.dart';
import 'package:flutter/scheduler.dart';
import 'package:widgets_easier/widgets_easier.dart';

import 'tile_item.dart';

class TileListPaginationViewDelegate extends PaginationViewDelegate<TileItem> {
  late EasyRefreshController _refreshController;
  @override
  Widget refreshableView(
    BuildContext context,
    PaginationLoadingController<TileItem> controller,
    Widget child,
  ) {
    _refreshController = EasyRefreshController(
      controlFinishRefresh: true,
      controlFinishLoad: true,
    );
    // 这里允许使用第三方刷新进行包装
    return EasyRefresh(
      controller: _refreshController,
      header: const ClassicHeader(
        dragText: 'Pull to refresh',
        armedText: 'Release ready',
        readyText: 'Refreshing...',
        processingText: 'Refreshing...',
        processedText: 'Succeeded',
        noMoreText: 'No more',
        failedText: 'Failed',
        messageText: 'Last updated at %T',
        safeArea: false,
      ),
      footer: const ClassicFooter(
        dragText: 'Pull to load',
        armedText: 'Release ready',
        readyText: 'Loading...',
        processingText: 'Loading...',
        processedText: 'Succeeded',
        noMoreText: 'No more',
        failedText: 'Failed',
        messageText: 'Last updated at %T',
      ),
      onRefresh: () async {
        await controller.onRefresh();
        _refreshController.finishRefresh();
        _refreshController.resetFooter();
      },
      onLoad: () async {
        print('onLoad called, hasNext: ${controller.hasNext}');
        if (controller.hasNext) {
          await controller.loadNextPage();
          print('loadNextPage completed, hasNext: ${controller.hasNext}');
          SchedulerBinding.instance.addPostFrameCallback((_) {
            _refreshController.finishLoad(IndicatorResult.success);
          });
          _refreshController.finishLoad(IndicatorResult.success);
        } else {
          print('No more data');
          _refreshController.finishLoad(IndicatorResult.noMore);
        }
      },
      child: child,
    );
  }

  @override
  Widget childrenLayoutView(
    BuildContext context,
    PaginationLoadingController<TileItem> controller,
    List<TileItem> children,
    IndexedWidgetBuilder itemBuilder,
  ) {
    return ListView.separated(
      itemCount: children.length,
      itemBuilder: itemBuilder,
      separatorBuilder: (context, index) => const Divider(),
    );
  }

  @override
  Widget itemBuilder(
    BuildContext context,
    PaginationLoadingController<TileItem> controller,
    TileItem item,
  ) {
    return ListTile(
      leading: item.icon,
      title: Text(item.title),
      subtitle: Text(item.subtitle),
    );
  }

  @override
  Widget loadingIndicator(BuildContext context) {
    return const Center(child: CircularProgressIndicator());
  }

  @override
  Widget emptyIndicator(BuildContext context) {
    return const Center(child: Text('No data'));
  }
}
```

最后用于我们的UI：

```dart
import 'package:flutter/material.dart';
import 'package:widgets_easier/widgets_easier.dart';

import 'data_api.dart';
import 'tile_item.dart';
import 'tile_list_pagination_view_delegate.dart';

class TileListPage extends StatefulWidget {
  const TileListPage({super.key});

  @override
  State<TileListPage> createState() => _TileListPageState();
}

class _TileListPageState extends State<TileListPage> {
  late final PaginationLoadingController<TileItem> _controller;

  @override
  void initState() {
    super.initState();
    _controller = PaginationLoadingController<TileItem>(
      pageSize: 20,
      onLoad: (page, pageSize) async {
        final response = await DataApi.onLoad(page, pageSize);
        return PaginatedResponse(
          currentPage: response.currentPage,
          totalPages: response.totalPages,
          hasNext: response.hasNext,
          hasPrevious: response.hasPrevious,
          results: response.results.map((item) {
            return TileItem(
              icon: const Icon(Icons.person),
              title: item['title'],
              subtitle: item['subtitle'],
            );
          }).toList(),
        );
      },
    );
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: const Text('Tile List')),
      body: PaginationView<TileItem>(
        controller: _controller,
        delegate: TileListPaginationViewDelegate(),
      ),
    );
  }
}

```





## 问题报告和代码贡献


###  Issues Report

您可以在该项目的 **GitHub** 页面上提供反馈或报告[问题](https://github.com/jacklee1995/widgets_easier/issues)。如果您觉得这个库缺少某个功能，请创建一个功能请求。在提交前，请先检查是否已又类似问题。

### 代码贡献

请将此仓库Fock到您的账户中，修改后rebase再PR到dev分支。建议提交信息格式为：

```
type(scope): info about commit.
```





